<!DOCTYPE html>
<html lang="zh-TW">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Day12 - Key Detection</title>
  <script type="text/javascript" src="https://www.cornify.com/js/cornify.js"></script>
</head>

<body>
  <script>
    // 保存輸入值用的陣列
    const pressed = []; 

    // 設定的密碼
    const secretCode = 'annie'; 

    //監聽整個瀏覽器視窗的鍵盤動作
    window.addEventListener('keyup', (e) => {
      // push 觸發的鍵盤輸入值到陣列中
      pressed.push(e.key);
      // 透過運算使 pressed 陣列長度始終與設定密碼相同，且當超出時替換掉陣列第一個元素
      pressed.splice(-secretCode.length - 1, pressed.length - secretCode.length);
      //判斷輸入值陣列的內容是否與設定密碼相同
      if (pressed.join('').includes(secretCode)) {
        // 觸發效果
        cornify_add();
      }
      // 在畫面中顯示輸入內容
      document.querySelector('.inputCode').innerHTML = pressed.join('-');
    })
  </script>
</body>

</html>